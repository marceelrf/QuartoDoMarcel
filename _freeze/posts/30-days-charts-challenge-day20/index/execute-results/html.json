{
  "hash": "0ff8d382909eb8055e3fe1eca0168681",
  "result": {
    "markdown": "---\ntitle: \"30 days chart challenge - day 20\"\ndescription: \"correlation\"\nauthor: \"Marcel Ferreira\"\ndate: \"2023-04-20\"\ncategories: [R, Dataviz]\nimage: \"pokemon.png\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --\nv dplyr     1.1.0     v readr     2.1.4\nv forcats   1.0.0     v stringr   1.5.0\nv ggplot2   3.4.1     v tibble    3.1.8\nv lubridate 1.9.2     v tidyr     1.3.0\nv purrr     1.0.1     \n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\ni Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(extrafont)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRegistering fonts with R\n```\n:::\n\n```{.r .cell-code}\n#extrafont::font_import()\n```\n:::\n\n\n## Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\npokemon <- read_csv(file = \"Pokedex_Ver_SV2.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 1203 Columns: 38\n-- Column specification --------------------------------------------------------\nDelimiter: \",\"\nchr (14): Branch_Code, Original_Name, Name, Type1, Type2, Ability1, Ability2...\ndbl (24): No, Generation, Height, Weight, Gender_Male, Gender_Female, Gender...\n\ni Use `spec()` to retrieve the full column specification for this data.\ni Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(pokemon)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 1,203\nColumns: 38\n$ No                  <dbl> 1, 2, 3, 3, 4, 5, 6, 6, 6, 7, 8, 9, 9, 10, 11, 12,~\n$ Branch_Code         <chr> \"1_0\", \"2_0\", \"3_0\", \"3_1\", \"4_0\", \"5_0\", \"6_0\", \"~\n$ Original_Name       <chr> \"Bulbasaur\", \"Ivysaur\", \"Venusaur\", \"Venusaur\", \"C~\n$ Name                <chr> \"Bulbasaur\", \"Ivysaur\", \"Venusaur\", \"Mega Venusaur~\n$ Generation          <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,~\n$ Height              <dbl> 0.7, 1.0, 2.0, 2.4, 0.6, 1.1, 1.7, 1.7, 1.7, 0.5, ~\n$ Weight              <dbl> 6.9, 13.0, 100.0, 155.5, 8.5, 19.0, 90.5, 110.5, 1~\n$ Type1               <chr> \"Grass\", \"Grass\", \"Grass\", \"Grass\", \"Fire\", \"Fire\"~\n$ Type2               <chr> \"Poison\", \"Poison\", \"Poison\", \"Poison\", NA, NA, \"F~\n$ Ability1            <chr> \"Overgrow\", \"Overgrow\", \"Overgrow\", \"Thick Fat\", \"~\n$ Ability2            <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~\n$ Ability_Hidden      <chr> \"Chlorophyll\", \"Chlorophyll\", \"Chlorophyll\", NA, \"~\n$ Color               <chr> \"Green\", \"Green\", \"Green\", \"Green\", \"Red\", \"Red\", ~\n$ Gender_Male         <dbl> 87.5, 87.5, 87.5, 87.5, 87.5, 87.5, 87.5, 87.5, 87~\n$ Gender_Female       <dbl> 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12.5, 12~\n$ Gender_Unknown      <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,~\n$ Egg_Steps           <dbl> 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20~\n$ Egg_Group1          <chr> \"Monster\", \"Monster\", \"Monster\", \"Monster\", \"Monst~\n$ Egg_Group2          <chr> \"Grass\", \"Grass\", \"Grass\", \"Grass\", \"Dragon\", \"Dra~\n$ Get_Rate            <dbl> 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45, 45~\n$ Base_Experience     <dbl> 64, 142, 263, 281, 62, 142, 267, 285, 285, 63, 142~\n$ Experience_Type     <dbl> 1059860, 1059860, 1059860, 1059860, 1059860, 10598~\n$ Category            <chr> \"Ordinary\", \"Ordinary\", \"Ordinary\", \"Ordinary\", \"O~\n$ Mega_Evolution_Flag <chr> NA, NA, NA, \"Mega\", NA, NA, NA, \"Mega\", \"Mega\", NA~\n$ Region_Form         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA~\n$ HP                  <dbl> 45, 60, 80, 80, 39, 58, 78, 78, 78, 44, 59, 79, 79~\n$ Attack              <dbl> 49, 62, 82, 100, 52, 64, 84, 130, 104, 48, 63, 83,~\n$ Defense             <dbl> 49, 63, 83, 123, 43, 58, 78, 111, 78, 65, 80, 100,~\n$ SP_Attack           <dbl> 65, 80, 100, 122, 60, 80, 109, 130, 159, 50, 65, 8~\n$ SP_Defense          <dbl> 65, 80, 100, 120, 50, 65, 85, 85, 115, 64, 80, 105~\n$ Speed               <dbl> 45, 60, 80, 80, 65, 80, 100, 100, 100, 43, 58, 78,~\n$ Total               <dbl> 318, 405, 525, 625, 309, 405, 534, 634, 634, 314, ~\n$ E_HP                <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0,~\n$ E_Attack            <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,~\n$ E_Defense           <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 2, 0, 0,~\n$ E_SP_Attack         <dbl> 1, 1, 2, 2, 0, 1, 3, 3, 3, 0, 0, 0, 0, 0, 0, 2, 0,~\n$ E_SP_Defense        <dbl> 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 3, 3, 0, 0, 1, 0,~\n$ E_Speed             <dbl> 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,~\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- pokemon %>%\n  filter(str_detect(Name,\"Mega\",negate = TRUE)) %>%\n  filter(Generation <= 4) %>%\n  mutate(labs = case_when(\n    Height >= 3.5 | Weight >= 300 ~ Name,\n    TRUE ~\"\"\n  )) \n\nfacs <- df %>%\n  filter(labs != \"\") %>%\n  pull(Type1) %>%\n  unique()\n\ndf %>%\n  mutate(Type1 = as.factor(Type1),\n         Type1 = fct_other(Type1,keep = facs),\n         Generation = factor(Generation,labels = c(\"First\",\n                                                   \"Second\",\n                                                   \"Third\",\n                                                   \"Fourth\"))) %>%\n  ggplot(aes(x = Height, y = Weight, col = Type1)) +\n  geom_point(alpha = .5, size = 2) +\n  scale_color_manual(values = c(\n    \"Dragon\" = \"#6f35fc\",\n    \"Ghost\" = \"#735797\",\n    \"Fire\" = \"#ee8130\",\n    \"Grass\" = \"#7ac74c\",\n    \"Normal\" = \"#a8a77a\",\n    \"Psychic\" = \"#f95587\",\n    \"Poison\" = \"#a33ea1\",\n    \"Rock\" = \"#b6a136\",\n    \"Steel\" = \"#b7b7ce\",\n    \"Water\" = \"#6390f0\",\n    \"Ground\" = \"#e2bf65\",\n    \"Other\" = \"grey50\")) +\n  facet_wrap(~Generation,scales = \"free\") +\n  ggrepel::geom_text_repel(aes(label = labs),\n                           size = 5, \n                           family = \"serif\",\n                           fontface = \"bold\",\n                           show_guide = F) +\n  labs(title = \"Relationship between height and weight of Pokemon of the first 4 generations.\",\n       subtitle = \"Source: https://www.kaggle.com/datasets/takamasakato/pokemon-all-status-data\",\n       x = \"Height (m)\",\n       y = \"Weight (kg)\",\n       color = \"Primary type\") +\n  theme(text = element_text(family = \"serif\"),\n        axis.title = element_text(face = \"bold\",\n                                  size = 12),\n        panel.background = element_rect(fill = \"white\",\n                                        colour = \"black\"),\n        panel.grid = element_blank(),\n        strip.background = element_rect(fill = \"white\"),\n        legend.title = element_text(face = \"bold\",\n                                  size = 16),\n        legend.text = element_text(size = 12),\n        plot.title = element_text(face = \"bold\",\n                                  size = 20),\n        plot.subtitle = element_text(face = \"italic\",\n                                  size = 12),\n        strip.text = element_text(face = \"bold\",\n                                  size = 12))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The `show_guide` argument of `layer()` is deprecated as of ggplot2 2.0.0.\ni Please use the `show.legend` argument instead.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: ggrepel: 3 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(filename = \"day20_finalplot.png\",dpi = 600,width = 10,height = 9)\n```\n:::\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}